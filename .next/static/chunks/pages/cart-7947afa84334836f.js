(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{8086:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return a(9081)}])},4505:function(e,s,a){"use strict";a.d(s,{Z:function(){return z}});var r=a(5893),t=a(7294),i=a(5675),n=a.n(i),l={src:"/_next/static/media/Logo.2a6c7338.png",height:490,width:537,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA3klEQVR42mPYzyzIygACeRmsxxkYjh5iYJjCAAUnROVYGaBA7DyH2MX3y1f8f5KY/P8MA8PhHDt7OQYQWGhoYniZgeHZs/Co/1/Pn//9affuP491jP/fYBD+vEVCPo3hkIT8/0cMDP+fh0Z8/3TgwP+P+/b9fxYc9v0+A8P//RLy/xh28oiXHJZV+XGBgeH/22nT/3zeu+/3TQaG/wf4JR9MF5fWYgCBagYGta3icscvMTD8v8op8X+vsPTZMAYGIQYQOCwgBXfpFlWtyRs4RQ4zMDCwMDAwMGwXkGQFAGGyUsv6UBizAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7},c=a(535),d=a(4496),o=a(1664),h=a.n(o),u=a(3695),A=a.n(u),j=a(1526);function x(){let[e,s]=(0,t.useState)(null);(0,t.useEffect)(()=>{s(localStorage.getItem("order"))},[]);let a=(0,j.o)(e=>e);console.log(a);let i=(0,j.o)(e=>e.cart.pizzas.length);return(0,r.jsxs)("div",{className:A().header,children:[(0,r.jsxs)("div",{className:A().logo,children:[(0,r.jsx)(n(),{src:l,alt:"",width:50,height:50}),(0,r.jsx)("span",{children:"Salasa"})]}),(0,r.jsxs)("ul",{className:A().menu,children:[(0,r.jsx)(h(),{href:"/",children:(0,r.jsx)("li",{children:"Home"})}),(0,r.jsx)(h(),{href:"/",children:(0,r.jsx)("li",{children:"Menu"})}),(0,r.jsx)(h(),{href:"/",children:(0,r.jsx)("li",{children:"Contact"})})]}),(0,r.jsxs)("div",{className:A().rightSide,children:[(0,r.jsx)(h(),{href:"/cart",children:(0,r.jsxs)("div",{className:A().cart,children:[(0,r.jsx)(c.Z,{size:35,color:"#2e2e2e"}),i>0?(0,r.jsx)("div",{className:A().badge,children:i}):""]})}),e&&(0,r.jsx)(h(),{href:"/order/".concat(e),children:(0,r.jsxs)("div",{className:A().cart,children:[(0,r.jsx)(d.Z,{size:35,color:"#2e2e2e"}),""!=e&&(0,r.jsx)("div",{className:A().badge,children:"1"})]})})]})]})}var m=a(5168),p=a(8568),g=a(3448),f=a(7246),v=a.n(f);function _(){return(0,r.jsxs)("div",{className:v().container,children:[(0,r.jsx)("span",{children:"ALL RIGHTS RESERVED"}),(0,r.jsxs)("div",{className:v().social,children:[(0,r.jsx)(m.Z,{size:45}),(0,r.jsx)(p.Z,{size:45}),(0,r.jsx)(g.Z,{size:45})]}),(0,r.jsxs)("div",{className:v().logo,children:[(0,r.jsx)(n(),{src:l,alt:"",width:50,height:50}),(0,r.jsx)("span",{children:"Salasa"})]})]})}function z(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{}),e.children,(0,r.jsx)(_,{})]})}a(3024)},9731:function(e,s,a){"use strict";a.d(s,{Z:function(){return A}});var r=a(5893),t=a(573),i=a(696),n=a(6892),l=a.n(n),c=a(7294);let d=async e=>{let{name:s,phone:a,address:r,total:t,method:i,pizzas:n}=e,l=await fetch("/api/order",{method:"POST",body:JSON.stringify({name:s,phone:a,address:r,total:parseFloat(t),method:i,pizzas:n})}),c=await l.json();return c};var o=a(6501),h=a(1526),u=a(1163);function A(e){let s=(0,t.rZ)(),a=(0,u.useRouter)(),n=localStorage.getItem("total"),A=(0,h.o)(e=>e.clearCart),j=(0,h.o)(e=>e.cart.pizzas),[x,m]=(0,c.useState)(null),p=e=>{m({...x,[e.target.name]:e.target.value})},g=async s=>{s.preventDefault(),console.log(x);let r=await d({...x,pizzas:j,total:n,method:e.paymentMethod});console.log("Order placed"),console.log(r),o.Am.success("Order placed!"),A(),localStorage.removeItem("total"),localStorage.setItem("order",r),a.push("/order/".concat(r)),e.setOpened(null)};return(0,r.jsxs)(i.u,{overlayColor:"dark"===s.colorScheme?s.colors.dark[9]:s.colors.gray[2],overlayOpacity:.55,overlayBlur:3,opened:e.opened,onClose:()=>e.setOpened(null),children:[0===e.paymentMethod?"Payment on delivery":"Delivery info:",(0,r.jsxs)("form",{onSubmit:g,className:l().formContainer,children:[(0,r.jsx)("input",{type:"text",name:"name",onChange:p,required:!0,placeholder:"Name"}),(0,r.jsx)("input",{type:"text",name:"phone",onChange:p,required:!0,placeholder:"Phone number"}),(0,r.jsx)("textarea",{name:"address",onChange:p,rows:3,required:!0,placeholder:"Address"}),(0,r.jsxs)("span",{children:["The total is ",(0,r.jsxs)("span",{children:["$",n]})]}),(0,r.jsx)("button",{type:"submit",className:"btn",children:"Place order"})]})]})}},3024:function(e,s,a){"use strict";a.d(s,{Z:function(){return h}});var r=a(5893);a(7294);var t=a(9450),i=a.n(t),n=a(5675),l=a.n(n),c={src:"/_next/static/media/s1.2752d39d.png",height:450,width:450,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA/ElEQVR42l3LO0/CUBiH8dc4aIyb38EYBxNXBwc3F2fjYOLGF9HE0cXB0cFBXUBwMcY4eKkaqkBaFDmlTaFNy7VAC6c9/LkkLPzWJw85rf48jTSAhfe8Hsv9a4cAlmnE7fBJIw/YyGfVksIsGFUP9W5oOz1s0VRbzSjdbAqt31fO6hEv6ww1ljEFsES4ud0OUmcIEhS5n/eQFRU/33Jk6QY8gV0KivZm++Ui8OOrAzv9NdCkK5Ser0VTM+ECOwQhVhqPx9xL7sHPPcCtdXjZasIyK2kag19YZPGT/fMYvclPd2FYNeCYOpLy3xrNOr1MrKsF7eBDko4mMzA3BDvzqNrzsv9DAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},d={src:"/_next/static/media/s2.ac25f9f7.png",height:450,width:431,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA90lEQVR42mMAgRfBskwg+v68CQX326uXgNhvd23n+P/kFCNYwY0j+7hA9OXtOzyfdDdf+s/AwM2ADK4c3Kn94PEtq5c1sdM+Omv8f1lofOn/+Q1b/+/tSgYrWNBaIPP++LKbZyY2/Nha3PPzdmfE/+9H5/3/d6BnLljB//+7OP7vDXh/bm7na8+ydX9Ozqi7+n1zdsOP5S52YAVfjzf0/NsY+P/p4tIHB5qrf/zfZPX27+X1XDAncDQW5T/eM6nu/pPJHrNW1mQ/f7g468+P5T6OYNk3T+5KVZfWXpwyafaa////i7a2dJ1s75l5+Nuvn8pPrl9QAAAAoYDbqtfxXgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},o={src:"/_next/static/media/s3.f50faacb.png",height:504,width:528,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAwUlEQVR42mPABb6uTGBEEfiyc1XA560r077sXLP06+EjViCxbzunMYMlPx9OTfq8ZWLFj501Uz7uW2L8fW953vd1UsJw3e/2OOv+/xIn+3xp7vEXPbm133fmRfzfyiAKV/B0zR3u/6+vyK5P1lt2YlLF+f9P7xpsj2WQhyv4//qSwJttLRvvF1msejyhovrzsfXR53sDjVEc+WF91qyXC2J6QezvR/eY/f/yk4sBG3iyoI/5x8UjXO/2rWNnYGBgAAApzFrBJdwRUQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};function h(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:i().heading,children:[(0,r.jsx)("span",{children:"WHAT WE SERVE"}),(0,r.jsx)("span",{children:"Your favorite pizza"}),(0,r.jsx)("span",{children:"Delivery partner"})]}),(0,r.jsxs)("div",{className:i().services,children:[(0,r.jsxs)("div",{className:i().feature,children:[(0,r.jsx)("div",{className:i().imageWrapper,children:(0,r.jsx)(l(),{src:c,alt:"",objectFit:"cover"})}),(0,r.jsx)("span",{children:"Easy to order"}),(0,r.jsx)("span",{children:"You only need few steps"})]}),(0,r.jsxs)("div",{className:i().feature,children:[(0,r.jsx)("div",{className:i().imageWrapper,children:(0,r.jsx)(l(),{src:d,alt:"",objectFit:"cover"})}),(0,r.jsx)("span",{children:"Fast delivery"}),(0,r.jsx)("span",{children:"Guaranteed 30 minutes delivery"})]}),(0,r.jsxs)("div",{className:i().feature,children:[(0,r.jsx)("div",{className:i().imageWrapper,children:(0,r.jsx)(l(),{src:o,alt:"",objectFit:"cover"})}),(0,r.jsx)("span",{children:"All over the city"}),(0,r.jsx)("span",{children:"No matter where you are - we will get there!"})]})]})]})}},5018:function(e,s,a){"use strict";a.d(s,{u:function(){return c}});var r=a(3409),t=a(6803),i=a.n(t);let n=(0,r.Z)({projectId:"gtn4i6c0",dataset:"production",apiVersion:"2023-01-03",useCdn:!0,token:"skV5vXQpjW5HdZEP2Z3Bspm3KTJbXiYD2dCXf13Gr5NsNgc90G8BfvILkwKPLLqZi19TI5QQJlhcq7kPQjkSb8IQiyF3yDsSFBIYDu5K57xqNPIO1bqJUsTGVoYSbVqmUPw45ipURKRAsKw1cmJePD9Cdmbuw9dCpVE8LjTATCv9ugTTv1ZU"}),l=i()(n),c=e=>l.image(e)},9081:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var r=a(5893),t=a(8494),i=a.n(t),n=a(4505),l=a(1526),c=a(5675),d=a.n(c),o=a(5018),h=a(6501),u=a(7294),A=a(9731),j=a(1163);function x(e){let s=(0,j.useRouter)(),a=(0,l.o)(e=>e.cart),t=(0,l.o)(e=>e.removePizza),[c,x]=(0,u.useState)(null),m=()=>a.pizzas.reduce((e,s)=>e+s.quantity*s.price,0),p=()=>{x(0),localStorage.setItem("total",m()),console.log(c)},g=async()=>{localStorage.setItem("total",m()),x(1);let e=await fetch("/api/stripe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.pizzas)});if(500===e.status)return;let r=await e.json();h.Am.loading("Redirecting..."),console.log(r),s.push(r.url)};return(0,r.jsxs)(n.Z,{children:[(0,r.jsx)(h.x7,{}),(0,r.jsxs)("div",{className:i().container,children:[(0,r.jsx)("div",{className:i().details,children:(0,r.jsxs)("table",{className:i().table,children:[(0,r.jsxs)("thead",{children:[(0,r.jsx)("th",{children:"Pizza"}),(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Size"}),(0,r.jsx)("th",{children:"Price"}),(0,r.jsx)("th",{children:"Quantity"}),(0,r.jsx)("th",{children:"Total"}),(0,r.jsx)("th",{})]}),(0,r.jsx)("tbody",{className:i().tbody,children:a.pizzas.length>0&&a.pizzas.map((e,s)=>{let a=(0,o.u)(e.image).url();return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(d(),{src:a,loader:()=>a,className:i().imageId,alt:"",objectFit:"cover",width:85,height:85})}),(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:0===e.size?"Small":1===e.size?"Medium":"Large"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("span",{style:{color:"var(--themeRed)"},children:"$"})," ",e.price]}),(0,r.jsx)("td",{children:e.quantity}),(0,r.jsxs)("td",{children:[(0,r.jsx)("span",{style:{color:"var(--themeRed)"},children:"$"})," ",e.price*e.quantity]}),(0,r.jsx)("td",{onClick:()=>t(s),children:"X"})]},s)})})]})}),(0,r.jsxs)("div",{className:i().cart,children:[(0,r.jsx)("span",{children:"Cart: "}),(0,r.jsxs)("div",{className:i().cartDetails,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"Items:"}),(0,r.jsxs)("span",{children:[a.pizzas.length," "]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"Total:"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{style:{color:"var(--themeRed)"},children:"$"})," ",m()]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"Delivery fee:"}),(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{style:{color:"var(--themeRed)"},children:"$"})," 5"]})]})]}),(0,r.jsx)("div",{className:i().buttons,children:localStorage.getItem("order")?"You have an active order already.":(0,r.jsxs)(u.Fragment,{children:[(0,r.jsx)("button",{className:"btn",onClick:p,children:"Pay on delivery"}),(0,r.jsx)("button",{className:"btn",onClick:g,children:"Pay now"})]})})]})]}),0===c?(0,r.jsx)(A.Z,{opened:0===c,setOpened:x,paymentMethod:c}):""]})}},1526:function(e,s,a){"use strict";a.d(s,{o:function(){return t}});var r=a(6902);let t=(0,r.ZP)(e=>({cart:{pizzas:[]},addPizza:s=>{e(e=>{if(e.cart.pizzas){let a=e.cart.pizzas.find(e=>e._id==s._id&&e.size==s.size);if(a){let r=e.cart.pizzas.map(e=>{e==a&&(e.quantity+=s.quantity)});return[...r]}}return{cart:{pizzas:[...e.cart.pizzas,s]}}})},removePizza:s=>{e(e=>({cart:{pizzas:e.cart.pizzas.filter((e,a)=>a!=s)}}))},clearCart:()=>{e(()=>({cart:{pizzas:[]}}))}}))},8494:function(e){e.exports={container:"Cart_container__v66s_",table:"Cart_table__AtJ4d",tbody:"Cart_tbody__foAEI",imageId:"Cart_imageId__E_8Jd",cart:"Cart_cart__We_ca",cartDetails:"Cart_cartDetails__afkA2",buttons:"Cart_buttons__YFCir"}},7246:function(e){e.exports={container:"Footer_container__iN3aW",social:"Footer_social__r_lug",logo:"Footer_logo__PM82v"}},3695:function(e){e.exports={header:"Header_header__VYZ3G",logo:"Header_logo__6vBZG",menu:"Header_menu___mY7M",rightSide:"Header_rightSide__0jEEm",cart:"Header_cart__wM8u4",badge:"Header_badge__igzTy"}},6892:function(e){e.exports={formContainer:"OrderModal_formContainer__bjD_3"}},9450:function(e){e.exports={heading:"Services_heading__SALyu",services:"Services_services__EZW__",feature:"Services_feature__INShh",imageWrapper:"Services_imageWrapper__AlNZz"}}},function(e){e.O(0,[604,696,356,774,888,179],function(){return e(e.s=8086)}),_N_E=e.O()}]);